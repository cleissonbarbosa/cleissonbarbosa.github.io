---
title: "Criando um Bot de Exploits e Notifica√ß√µes de Seguran√ßa no Telegram"
author: cleissonb
date: 2024-09-29 00:00:00 -0300
image:
  path: /assets/img/posts/be3352c0-8b63-4eb6-9ba8-0fde573a49e8.png
  alt: "Criando um Bot de Exploits e Notifica√ß√µes de Seguran√ßa no Telegram"
categories: [Python, Bot, Security]
tags: [telegram, bot, python, seguran√ßa, exploits, desenvolvimento]
pin: true
---

## Introdu√ß√£o

Desenvolver um bot no Telegram n√£o apenas aprimora suas habilidades em desenvolvimento de software, mas tamb√©m pode ser uma maneira eficaz de aprofundar seus conhecimentos em seguran√ßa da informa√ß√£o. Neste artigo, vou compartilhar a minha jornada na cria√ß√£o de um bot que busca exploits e envia notifica√ß√µes sobre vulnerabilidades de seguran√ßa, e como esse projeto me ajudou a crescer como profissional de seguran√ßa.

## Por que criar um bot de exploits?

Sou o tipo de pessoa que aprende melhor colocando a m√£o na massa. Sempre tive dificuldade em entender como os exploits funcionam apenas lendo documenta√ß√£o - queria ver na pr√°tica como s√£o reportados, implementados e corrigidos. Voc√™ pode se perguntar: "Por que n√£o simplesmente pesquisar no Google ou perguntar para o ChatGPT?". Bem, onde est√° a gra√ßa nisso? 

Foi assim que surgiu a ideia de desenvolver uma ferramenta que n√£o apenas facilitasse o acesso a informa√ß√µes sobre vulnerabilidades, mas tamb√©m me ajudasse a entender melhor todo o ecossistema de seguran√ßa. E qual seria a melhor maneira de aprender que n√£o seja criando algo √∫til?

## O que o bot faz?

- **/exploit `<CVE-ID>` `<LANGUAGE>`**: Pesquisa detalhes de uma vulnerabilidade espec√≠fica por ID, incluindo descri√ß√£o e refer√™ncias.
    - `<CVE-ID>` √© obrigat√≥rio.
    - `<LANGUAGE>` √© opcional (padr√£o √© ingl√™s).
- **/recent `<LANGUAGE>`**: Retorna uma lista das vulnerabilidades mais recentes dispon√≠veis.
    - `<LANGUAGE>` √© opcional (padr√£o √© ingl√™s).
- **/start**: Exibe uma mensagem de boas-vindas e instru√ß√µes de uso.

Talvez so de olhar o que o bot pode fazer, voc√™ j√° tenha percebido o porqu√™ de eu ter escolhido faze-lo. Al√©m de ser obrigado a entender como os exploits s√£o reportados, corrigidos e divulgados, eu tamb√©m tive que aprender a trabalhar com uma API de seguran√ßa, que consulta informa√ß√µes de vulnerabilidades de bases como a CVE Details ou CIRCL (Computer Incident Response Center Luxembourg), aprimorar minhas habilidades em Python e entender melhor como o Telegram funciona, como fazer tradu√ß√µes usando API do google Gratuitamente etc.

## Vamos ao c√≥digo

Para criar o bot, utilizei a biblioteca `python-telegram-bot`, que facilita a intera√ß√£o com a API do Telegram. Aqui est√° um trecho do c√≥digo que lida com a pesquisa de exploits por ID:

```python
# src/commands/entry_points.py
async def exploit(update: Update, context: CallbackContext):
    translator = Translator()
    if context.args:
        language = context.args[1] if len(context.args) > 1 else "en"
        vuln_id = context.args[0]
        logging.info(
            f"Searching for exploit information for {vuln_id}, language: {language}"
        )

        info = "Searching for exploit information"
        if language != "en":
            translated_info = translator.translate(info, dest=language).text
            await update.message.reply_text(f"üîç {translated_info} ...")
        else:
            await update.message.reply_text(f"üîç {info} ...")

        result = await search_exploit(vuln_id, language)
        logging.info(f"Search result: {result}")
        await update.message.reply_text(result, parse_mode=ParseMode.HTML)
    else:
        logging.warning("No vulnerability ID provided.")
        error_msg = "Please provide a vulnerability ID (eg: /exploit CVE-2021-34527)."
        if language != "en":
            translated_result = translator.translate(error_msg, dest=language).text
            await update.message.reply_text(f"‚ùå {translated_result}")
        else:
            await update.message.reply_text(f"‚ùå {error_msg}")
```

Neste trecho, o bot recebe um comando `/exploit` seguido de um identificador CVE e, opcionalmente, um idioma. Ele ent√£o chama a fun√ß√£o `search_exploit` para buscar informa√ß√µes sobre a vulnerabilidade e retorna os resultados ao usu√°rio.

## Como executar o bot

Leia o [README.md](https://github.com/cleissonbarbosa/telegram-security-bot/blob/main/README.md#how-to-create-a-bot-and-obtain-a-token-%EF%B8%8F){:target="\_blank"} do projeto para saber mais detalhes de como executar o bot. Basicamente voc√™ precisa de um token do Telegram. Voc√™ pode obter um token criando um novo bot no [BotFather](https://t.me/BotFather){:target="\_blank"} e seguindo as instru√ß√µes.

## Como o Projeto Melhorou Minhas Habilidades em Seguran√ßa

O desenvolvimento deste bot trouxe uma s√©rie de benef√≠cios para minhas skills em Seguran√ßa da Informa√ß√£o:

- **Aprimoramento em Monitoramento de Vulnerabilidades**: Ao usar o bot para verificar as vulnerabilidades mais recentes, fiquei mais familiarizado com a din√¢mica dos sistemas de monitoramento. Isso √© crucial para antecipar poss√≠veis falhas em sistemas de produ√ß√£o.

- **Conhecimento de Exploits e CVEs**: Trabalhar diretamente com a API de CVEs me deu um conhecimento mais profundo sobre como essas vulnerabilidades s√£o categorizadas e publicadas. Isso me permite estar mais atento a vulnerabilidades cr√≠ticas e seus respectivos patches.

- **Automatiza√ß√£o de Tarefas de Seguran√ßa**: O bot me ajudou a entender a import√¢ncia de automatizar notifica√ß√µes e respostas a incidentes, algo essencial para um profissional de seguran√ßa que lida com um fluxo constante de novas amea√ßas.

## Conclus√£o

Esse projeto foi uma excelente maneira de combinar meu interesse por desenvolvimento e seguran√ßa da informa√ß√£o. Criar um bot que interage com APIs de seguran√ßa, envia notifica√ß√µes e facilita a consulta de vulnerabilidades me ajudou a compreender melhor como ferramentas automatizadas podem ser utilizadas para manter sistemas seguros e atualizados. Se voc√™ est√° em busca de melhorar suas habilidades em seguran√ßa da informa√ß√£o, recomendo trabalhar em projetos pr√°ticos como este, que n√£o s√≥ testam suas habilidades de programa√ß√£o, mas tamb√©m aumentam sua familiaridade com o ecossistema de seguran√ßa.

## Pr√≥ximos Passos

- **Notifica√ß√µes autom√°ticas**: Enviar alertas quando novas vulnerabilidades cr√≠ticas forem encontradas.
- **Integra√ß√£o com mais bancos de dados de exploits**: Tornar o bot mais robusto ao buscar informa√ß√µes de v√°rias fontes.
- **Filtros avan√ßados de CVE**: Permitir que os usu√°rios filtrem vulnerabilidades por categorias, como sistemas operacionais ou gravidade.

---

_Voc√™ pode encontrar o c√≥digo completo do bot no nosso [reposit√≥rio do GitHub](https://github.com/cleissonbarbosa/telegram-security-bot){:target="\_blank"}. Pull requests s√£o bem-vindos!_
